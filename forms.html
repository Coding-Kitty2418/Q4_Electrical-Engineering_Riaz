<!DOCTYPE html>
<html>
    <head>
        <title>Q4 - CS Project</title>
        <style>
            h1, h2, h3, h4, p, a {
                font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            }
        </style>
        <script>
            function submitForm() {
                document.cookie = "formSubmitted=true";
                document.getElementById("messageContainer").textContent = "Thank you for asking! I'll answer your query as soon as possible.";
                document.write(document.getElementById("messageContainer").textContent);
            }

            function setCookie(varKey, varValue) {
                document.cookie = varKey + "=" + varValue + ";";
            }

            function getCookie(varKey) {
                var key = varKey + "=";
                var retrieveCookie = document.cookie;
                var ca = retrieveCookie.split(';');
                for (var i = 0; i < ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(key) == 0) {
                        return c.substring(key.length, c.length);
                    }
                }
                return "";
            }

            function checkCookie() {
                var user = getCookie("userName");
                var formSubmitted = getCookie("formSubmitted");

                if (formSubmitted === "true") {
                    var submitButton = document.querySelector("input[type='submit']");
                    submitButton.disabled = true;

                    var message = document.createElement("p");
                    message.textContent = "You have already submitted the form.";
                    document.getElementById("messageContainer").appendChild(message);
                } else {
                    if (user !== "") {
                        alert("Welcome again " + user);
                    } else {
                        user = prompt("Please enter your name:", "");
                        if (user !== "" && user !== null) {
                            setCookie("userName", user, 30);
                        }
                    }
                }
            }
        </script>
    </head>
    <body style="background-image: url(electrical-eng2.png);" onload="checkCookie()">
        <header style="background-color: rgb(17, 67, 160); position: fixed; top: 0; width: 100%; height: 5%;">
            <nav>
                <ul style="font-size: 30px; list-style-type: none; margin: 0; padding: 0;">
                    <li style="float: left; color: white;"><a href="electrical-engineering.html">About Electrical Engineering</a>&nbsp;&nbsp;</li>
                    <li style="float: left; color: white;"><a href="forms.html">Any Questions?</a></li>
                </ul>
            </nav>
        </header>
        <br><br><br><br>
        <form action="forms.html" style="background-color: white;" id="my-form">
            <fieldset form="my-form">
                <legend style="text-align: center; font-size: x-large;">Any Questions?</legend><br>
                <textarea id="tArea" name="askHere" rows="10" cols="50"></textarea><br><br>
                <input type="reset" value="Clear">
            </fieldset>

            <fieldset form="my-form">
                <legend>Please enter the following:</legend>
                <label for="userName">Username:</label>
                <input type="text" id="userName" name="userName"><br><br>
                <label for="email">Email Address:</label>
                <input type="text" id="emailAddress" name="email"><br><br>
                <input type="submit" value="Submit" onclick="submitForm();">
            </fieldset>
        </form> 
        <div id="messageContainer"></div>

        <footer style="background-color: rgb(17, 67, 160); color: rgb(55, 255, 255); position: fixed; bottom: 0; width: 100%;">
            <p>Contact me here:</p>
            <a href="https://web.facebook.com/chloeemherrionette.gonzaga/" style="color: #4267B2; font-size: 30px">Facebook</a>&nbsp;&nbsp;
        </footer>
    </body>
</html>